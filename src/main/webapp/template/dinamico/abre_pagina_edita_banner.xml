<?xml version="1.0" encoding="UTF-8"?>
<engine>
	<template selector="#container_main">

	<fieldset>
	<legend>Ordenação</legend>
		<li class="buttons">
			<input id="ordering-initial-date" class="btNone" type="button" value="Data inicial de exibição"/>
			<input id="ordering-final-date" class="btNone" type="button" value="Data final de exibição"/>
			<input id="ordering-creation-date" class="btNone" type="button" value="Data de criação"/>
		</li>
	</fieldset>

		<ul>
			{for banner in jsonArrayBanner}
				<li id="${banner.postObjectJson.id}">
					<div class="img-banner"><img src="/s/banner/${banner.postObjectJson.id}" /></div>
					<div class="dados-banner">
						<form class="form-editar-banner" id="${banner.postObjectJson.id}">
							Titulo: <input type="text" value="${banner.postObjectJson.titulo}" id="titulo_${banner.postObjectJson.id}" /> <br/>
							Data de início: <input type="text" value="${banner.postObjectJson.dataInicio}" id="dataInicio_${banner.postObjectJson.id}" class="date-picker inicio"/> <br/>
							Data de fim: <input type="text" value="${banner.postObjectJson.dataFim}" id="dataFim_${banner.postObjectJson.id}" class="date-picker fim"/> <br/>
							Ultima modificação: <input type="text" value="${banner.postObjectJson.dataDeAtualizacao}" id="dataDeAtualizacao_${banner.postObjectJson.id}" disabled="true"/> <br/>
							Link: <input type="text" id="bannerLink" value="${banner.postObjectJson.link}"/><br/>
							<input type="submit" value="Editar!" />
						</form>
					</div>
				</li>
			{/for}	
		</ul>
	</template>
	<script>
		$('form-editar-banner').each(function() {
		    dextranet.banner.inicializaDatepicker(false, $(this));
		});
		
		$(".form-editar-banner").submit(function(){
			var form = $(this);
			dextranet.banner.editarBanner($(form).attr("class").substring(19));
			return false;
		});

		$('#ordering-initial-date').click(function() {
			dextranet.banner.ordenaBanners('dataInicio', $('.dados-banner').parent());
		});

		$('#ordering-final-date').click(function() {
			dextranet.banner.ordenaBanners('dataFim', $('.dados-banner').parent());
		});

		$('#ordering-creation-date').click(function() {
			dextranet.banner.ordenaBanners('dataDeAtualizacao', $('.dados-banner').parent());
		});
	</script>
</engine>
